(this["webpackJsonpherring-web"]=this["webpackJsonpherring-web"]||[]).push([[0],{12:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),a=n(7),r=n.n(a),i=(n(12),n(5)),l=n(2);var o=function(e){var t=new XMLHttpRequest;t.responseType="json",t.open("GET","http://localhost:8000/api/fillets/"),t.onload=function(){e(t.response,t.status)},t.onerror=function(t){e({message:"Request failed"},400)},t.send()},b=n(0);function u(e){var t=e.fillet,n=e.action,s=e.theme,a=Object(c.useState)(t.like_count?t.like_count:0),r=Object(l.a)(a,2),i=r[0],o=r[1],u=Object(c.useState)(!!t.userLike),j=Object(l.a)(u,2),d=j[0],f=j[1],p="btn btn-outline-primary btn-sm ".concat(s),O="like"===n.type?"".concat(i," ").concat(n.display):n.display;return Object(b.jsx)("button",{className:p,onClick:function(e){e.preventDefault(),"like"===n.type&&(o(d?i-1:i+1),f(!d))},children:O})}function j(e){var t=e.fillet,n=t.text?t.text:"Empty fillet";return Object(b.jsxs)("div",{className:"col-12 col-md-10 mx-auto border rounded py-2 mb-4",children:[Object(b.jsx)("p",{className:"px-3",children:n}),Object(b.jsxs)("div",{className:"btn btn-group",children:[Object(b.jsx)(u,{fillet:t,action:{type:"like",display:"Likes"},theme:"btn-dark"}),Object(b.jsx)(u,{fillet:t,action:{type:"repost",display:"Repost"},theme:"btn-light"})]})]})}function d(e){var t=e.newFillets,n=Object(c.useState)([]),s=Object(l.a)(n,2),a=s[0],r=s[1],u=Object(c.useState)(t||[]),d=Object(l.a)(u,2),f=d[0],p=d[1];return Object(c.useEffect)((function(){var e=Object(i.a)(t).concat(f);e.length!==a.length&&r(e)}),[a,t,f]),Object(c.useEffect)((function(){o((function(e,t){200===t?p(Object(i.a)(e).concat(f)):alert("Error :D")}))}),[f]),Object(b.jsx)("div",{children:a.map((function(e,t){return Object(b.jsx)(j,{fillet:e},t)}))})}var f=function(){var e=s.a.createRef(),t=Object(c.useState)([]),n=Object(l.a)(t,2),a=n[0],r=n[1];return Object(b.jsxs)("div",{className:"col-12 mb-3",children:[Object(b.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=e.current.value;e.current.value="";var c=Object(i.a)(a);c.unshift({text:n,likeCount:0,id:666}),r(c)},children:[Object(b.jsx)("textarea",{className:"form-control",required:!0,ref:e}),Object(b.jsx)("button",{type:"submit",className:"btn btn-outline-primary btn-sm my-3 btn-dark",children:"Post"})]}),Object(b.jsx)(d,{newFillets:a})]})},p=n.p+"static/media/Logo.efa2b0d2.png";var O=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"d-flex justify-content-center py-4",children:Object(b.jsx)("img",{src:p,width:"180",height:"60",alt:""})}),Object(b.jsx)(f,{})]})};r.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(O,{})}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.92b3450d.chunk.js.map