{"version":3,"sources":["lookup/components.js","lookup/index.js","filletsElement/components.js","filletsElement/index.js","Logo.png","App.js","index.js"],"names":["loadFillets","callback","xhr","XMLHttpRequest","responseType","open","onload","response","status","onerror","e","send","ActionButton","fillet","action","theme","useState","like_count","likeCount","setLikeCount","userLike","liked","setLiked","className","display","type","onClick","event","preventDefault","Fillet","text","FilletsList","newFillets","fillets","setFillets","filletsInit","setFilletsInit","useEffect","finalFillets","concat","length","alert","map","x","i","FilletsElement","textAreaRef","React","createRef","setNewFillets","onSubmit","newValue","current","value","tempNewFillets","unshift","id","required","ref","App","src","Logo","width","height","alt","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"uMAiBeA,ICfAA,EDFf,SAAqBC,GACjB,IAAIC,EAAM,IAAIC,eAKdD,EAAIE,aAFW,OAGfF,EAAIG,KALK,MACH,sCAKNH,EAAII,OAAS,WACXL,EAASC,EAAIK,SAAUL,EAAIM,SAE7BN,EAAIO,QAAU,SAACC,GACbT,EAAS,CAAC,QAAW,kBAAmB,MAE1CC,EAAIS,Q,OEoBR,SAASC,EAAT,GAAgD,IAAzBC,EAAwB,EAAxBA,OAAQC,EAAgB,EAAhBA,OAAQC,EAAQ,EAARA,MAAQ,EACXC,mBAASH,EAAOI,WAAaJ,EAAOI,WAAa,GADtC,mBACtCC,EADsC,KAC3BC,EAD2B,OAEnBH,qBAASH,EAAOO,UAFG,mBAEtCC,EAFsC,KAE/BC,EAF+B,KAGvCC,EAAS,yCAAqCR,GAC9CS,EAA0B,SAAhBV,EAAOW,KAAP,UAA4BP,EAA5B,YAAyCJ,EAAOU,SAAYV,EAAOU,QAajF,OAAO,wBAAQD,UAAWA,EAAWG,QAXjB,SAACC,GACnBA,EAAMC,iBACc,SAAhBd,EAAOW,OAIPN,EAHGE,EAGUH,EAAY,EAFZA,EAAY,GAI3BI,GAAUD,KAGP,SAAqDG,IAGhE,SAASK,EAAT,GAA2B,IAAVhB,EAAS,EAATA,OACPiB,EAAOjB,EAAOiB,KAAOjB,EAAOiB,KAAO,eAEzC,OAAO,sBAAKP,UAAU,oDAAf,UACL,mBAAGA,UAAU,OAAb,SACGO,IAEH,sBAAKP,UAAU,gBAAf,UACE,cAACX,EAAD,CACEC,OAAQA,EACRC,OAAQ,CAACW,KAAM,OAAQD,QAAS,SAChCT,MAAM,aAER,cAACH,EAAD,CACEC,OAAQA,EACRC,OAAQ,CAACW,KAAM,SAAUD,QAAS,UAClCT,MAAM,oBAMd,SAASgB,EAAT,GAAoC,IAAdC,EAAa,EAAbA,WAAa,EACHhB,mBAAS,IADN,mBAC1BiB,EAD0B,KACjBC,EADiB,OAEKlB,mBAASgB,GAA0B,IAFxC,mBAE1BG,EAF0B,KAEbC,EAFa,KAuBjC,OAnBAC,qBAAU,WACR,IAAIC,EAAe,YAAIN,GAAYO,OAAOJ,GACtCG,EAAaE,SAAWP,EAAQO,QAClCN,EAAWI,KAEZ,CAACL,EAASD,EAAYG,IAEzBE,qBAAU,WASRrC,GARmB,SAACO,EAAUC,GACb,MAAXA,EAEF4B,EAAe7B,GAEfkC,MAAM,iBAIT,CAACN,IAGF,8BAEKF,EAAQS,KAAI,SAACC,EAAGC,GACf,OAAO,cAACf,EAAD,CAAQhB,OAAQ8B,GAAQC,QAM1BC,IC3GFA,EDEf,WACE,IAAMC,EAAcC,IAAMC,YADF,EAEYhC,mBAAS,IAFrB,mBAEjBgB,EAFiB,KAELiB,EAFK,KAiBxB,OACA,sBAAK1B,UAAU,cAAf,UACI,uBAAM2B,SAfW,SAACvB,GAClBA,EAAMC,iBACN,IAAMuB,EAAWL,EAAYM,QAAQC,MACrCP,EAAYM,QAAQC,MAAQ,GAC5B,IAAIC,EAAc,YAAOtB,GACzBsB,EAAeC,QAAQ,CACnBzB,KAAMqB,EACNjC,UAAW,EACXsC,GAAI,MAERP,EAAcK,IAKd,UACI,0BAAU/B,UAAU,eAAekC,UAAU,EAAMC,IAAKZ,IAGxD,wBAAQrB,KAAK,SAASF,UAAU,+CAAhC,qBAEJ,cAACQ,EAAD,CAAaC,WAAYA,QE7BhB,MAA0B,iCCe1B2B,MAXf,WACE,OACA,qCACE,qBAAKpC,UAAU,qCAAf,SACE,qBAAKqC,IAAKC,EAAMC,MAAM,MAAMC,OAAO,KAAKC,IAAI,OAE9C,cAAC,EAAD,QCNJC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.41698364.chunk.js","sourcesContent":["function loadFillets(callback) {\r\n    let xhr = new XMLHttpRequest(),\r\n    method = 'GET',\r\n    url = 'http://localhost:8000/api/fillets/',\r\n    responseType = 'json'\r\n  \r\n    xhr.responseType = responseType\r\n    xhr.open(method, url)\r\n    xhr.onload = () => {\r\n      callback(xhr.response, xhr.status)\r\n    }\r\n    xhr.onerror = (e) => {\r\n      callback({'message': 'Request failed'}, 400)\r\n    }\r\n    xhr.send()\r\n  }\r\n\r\nexport default loadFillets","import loadFillets from './components'\r\n\r\nexport default loadFillets\r\n","import React, {useEffect, useState} from 'react';\r\nimport loadFillets from '../lookup'\r\n\r\n\r\nfunction FilletsElement() {\r\n  const textAreaRef = React.createRef()\r\n  const [newFillets, setNewFillets] = useState([])\r\n\r\n  const handleSubmit = (event) => {\r\n      event.preventDefault()\r\n      const newValue = textAreaRef.current.value\r\n      textAreaRef.current.value = ''\r\n      let tempNewFillets = [...newFillets]\r\n      tempNewFillets.unshift({\r\n          text: newValue,\r\n          likeCount: 0,\r\n          id: 666\r\n      })\r\n      setNewFillets(tempNewFillets)\r\n  }\r\n\r\n  return (\r\n  <div className='col-12 mb-3'>\r\n      <form onSubmit={handleSubmit}>\r\n          <textarea className='form-control' required={true} ref={textAreaRef}>\r\n\r\n          </textarea>\r\n          <button type='submit' className='btn btn-outline-primary btn-sm my-3 btn-dark'>Post</button>\r\n      </form>\r\n      <FilletsList newFillets={newFillets}/>\r\n  </div>\r\n  )\r\n}\r\n\r\nfunction ActionButton({fillet, action, theme}) {\r\n  const [likeCount, setLikeCount] = useState(fillet.like_count ? fillet.like_count : 0)\r\n  const [liked, setLiked] = useState(fillet.userLike ? true : false)\r\n  const className = `btn btn-outline-primary btn-sm ${theme}`\r\n  const display = action.type === 'like' ? `${likeCount} ${action.display}` : action.display\r\n\r\n    const handleClick = (event) => {\r\n      event.preventDefault()\r\n      if (action.type === 'like') {\r\n        if (!liked) {\r\n          setLikeCount(likeCount + 1)\r\n        } else {\r\n          setLikeCount(likeCount - 1)\r\n        }\r\n        setLiked(!liked)\r\n      }\r\n    }\r\n    return <button className={className} onClick={handleClick}>{display}</button>\r\n  }\r\n  \r\nfunction Fillet({fillet}) {\r\n    const text = fillet.text ? fillet.text : 'Empty fillet'\r\n\r\n    return <div className='col-12 col-md-10 mx-auto border rounded py-2 mb-4'>\r\n      <p className='px-3'>\r\n        {text}\r\n      </p>\r\n      <div className='btn btn-group'>\r\n        <ActionButton\r\n          fillet={fillet}\r\n          action={{type: 'like', display: 'Likes'}}\r\n          theme='btn-dark'\r\n        />\r\n        <ActionButton\r\n          fillet={fillet}\r\n          action={{type: 'repost', display: 'Repost'}}\r\n          theme='btn-light'\r\n        />\r\n      </div>\r\n    </div>\r\n  }\r\n  \r\n  function FilletsList({newFillets}) {\r\n    const [fillets, setFillets] = useState([])\r\n    const [filletsInit, setFilletsInit] = useState(newFillets ? newFillets : [])\r\n    \r\n    useEffect(() => {\r\n      let finalFillets = [...newFillets].concat(filletsInit)\r\n      if (finalFillets.length !== fillets.length) {\r\n        setFillets(finalFillets)\r\n      }\r\n    }, [fillets, newFillets, filletsInit])\r\n\r\n    useEffect(() => {\r\n      const myCallback = (response, status) => {\r\n        if (status === 200)\r\n        {\r\n          setFilletsInit(response)\r\n        } else {\r\n          alert('Error :D')\r\n        }\r\n      };\r\n      loadFillets(myCallback)\r\n    }, [filletsInit])\r\n  \r\n    return (\r\n      <div> \r\n          \r\n          {fillets.map((x, i) => {\r\n            return <Fillet fillet={x} key={i} />\r\n          })}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default FilletsElement","import FilletsElement from './components'\r\n\r\nexport default FilletsElement","export default __webpack_public_path__ + \"static/media/Logo.efa2b0d2.png\";","import './App.css';\nimport FilletsElement from './filletsElement';\nimport Logo from './Logo.png';\n\nfunction App() {\n  return (\n  <>\n    <div className=\"d-flex justify-content-center py-4\">\n      <img src={Logo} width=\"180\" height=\"60\" alt=\"\"/>\n    </div>\n    <FilletsElement />\n  </>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}