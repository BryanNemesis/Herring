(this["webpackJsonpherring-web"]=this["webpackJsonpherring-web"]||[]).push([[0],{12:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),r=n(7),a=n.n(r),i=(n(12),n(6)),l=n(2);var o=function(e){var t=new XMLHttpRequest;t.responseType="json",t.open("GET","http://localhost:8000/api/fillets/"),t.onload=function(){e(t.response,t.status)},t.onerror=function(t){e({message:"Request failed"},400)},t.send()},u=n(0);function b(e){var t=e.fillet,n=e.action,s=e.theme,r=Object(c.useState)(t.like_count?t.like_count:0),a=Object(l.a)(r,2),i=a[0],o=a[1],b=Object(c.useState)(!!t.userLike),j=Object(l.a)(b,2),d=j[0],f=j[1],p="btn btn-outline-primary btn-sm ".concat(s),O="like"===n.type?"".concat(i," ").concat(n.display):n.display;return Object(u.jsx)("button",{className:p,onClick:function(e){e.preventDefault(),"like"===n.type&&(o(d?i-1:i+1),f(!d))},children:O})}function j(e){var t=e.fillet,n=t.text?t.text:"Empty fillet";return Object(u.jsxs)("div",{className:"col-12 col-md-10 mx-auto border rounded py-2 mb-4",children:[Object(u.jsx)("p",{className:"px-3",children:n}),Object(u.jsxs)("div",{className:"btn btn-group",children:[Object(u.jsx)(b,{fillet:t,action:{type:"like",display:"Likes"},theme:"btn-dark"}),Object(u.jsx)(b,{fillet:t,action:{type:"repost",display:"Repost"},theme:"btn-light"})]})]})}function d(e){var t=e.newFillets,n=Object(c.useState)([]),s=Object(l.a)(n,2),r=s[0],a=s[1],b=Object(c.useState)(t||[]),d=Object(l.a)(b,2),f=d[0],p=d[1];return Object(c.useEffect)((function(){var e=Object(i.a)(t).concat(f);e.length!==r.length&&a(e)}),[r,t,f]),Object(c.useEffect)((function(){o((function(e,t){200===t?p(e):alert("Error :D")}))}),[f]),Object(u.jsx)("div",{children:r.map((function(e,t){return Object(u.jsx)(j,{fillet:e},t)}))})}var f=function(){var e=s.a.createRef(),t=Object(c.useState)([]),n=Object(l.a)(t,2),r=n[0],a=n[1];return Object(u.jsxs)("div",{className:"col-12 mb-3",children:[Object(u.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=e.current.value;e.current.value="";var c=Object(i.a)(r);c.unshift({text:n,likeCount:0,id:666}),a(c)},children:[Object(u.jsx)("textarea",{className:"form-control",required:!0,ref:e}),Object(u.jsx)("button",{type:"submit",className:"btn btn-outline-primary btn-sm my-3 btn-dark",children:"Post"})]}),Object(u.jsx)(d,{newFillets:r})]})},p=n.p+"static/media/Logo.efa2b0d2.png";var O=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"d-flex justify-content-center py-4",children:Object(u.jsx)("img",{src:p,width:"180",height:"60",alt:""})}),Object(u.jsx)(f,{})]})};a.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(O,{})}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.41698364.chunk.js.map